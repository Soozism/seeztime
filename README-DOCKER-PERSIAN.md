# ุฑุงูููุง ุงุฌุฑุง ูพุฑูฺู Ginga Tek ุจุง Docker

ุงู ุฑุงูููุง ูุญูู ุงุฌุฑุง ูพุฑูฺู Ginga Tek Task Management API ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ Docker ู ูพุงฺฏุงู ุฏุงุฏู MySQL ุชูุถุญ ูโุฏูุฏ.

## ูพุดโูุงุฒูุง

- Docker ู Docker Compose ูุตุจ ุดุฏู ุจุงุดุฏ
- ุญุฏุงูู ฒ ฺฏฺฏุงุจุงุช RAM ุฏุฑ ุฏุณุชุฑุณ ุจุงุดุฏ
- ูพูุฑุช ธฐฐฐ ุฏุฑ ุฏุณุชุฑุณ ุจุงุดุฏ

## ุดุฑูุน ุณุฑุน

### ฺฏุฒูู ฑ: ุงุณุชูุงุฏู ุงุฒ ุงุณฺฉุฑูพุช ุฑุงูโุงูุฏุงุฒ (ุชูุตู ุดุฏู)

```bash
# ุงุฌุฑุง ุงุณฺฉุฑูพุช
./start-dev.sh
```

### ฺฏุฒูู ฒ: ุฏุณุชูุฑุงุช Docker ุฏุณุช

```bash
# ุณุงุฎุช ู ุฑุงูโุงูุฏุงุฒ ุณุฑูุณโูุง
sudo docker compose up --build -d

# ุจุฑุฑุณ ูุถุนุช ุณุฑูุณโูุง
sudo docker compose ps

# ูุดุงูุฏู ูุงฺฏโูุง
sudo docker compose logs -f
```

## ุณุฑูุณโูุง

ูพฺฉุฑุจูุฏ Docker ุดุงูู ุณุฑูุณโูุง ุฒุฑ ุงุณุช:

### ฑ. API ฺฏูฺฏุง ุชฺฉ (ูพูุฑุช ธฐฐฐ)
- **ุขุฏุฑุณ**: http://localhost:8000
- **ูุณุชูุฏุงุช API**: http://localhost:8000/docs
- **ูุณุชูุฏุงุช ReDoc**: http://localhost:8000/redoc

### ฒ. ูพุงฺฏุงู ุฏุงุฏู MySQL (ููุท ุฏุงุฎู)
- **ูุงุณุช**: mysql (ูุงู ุฏุงุฎู ฺฉุงูุชูุฑ)
- **ูพูุฑุช**: ณณฐถ (ููุท ุฏุงุฎู)
- **ูพุงฺฏุงู ุฏุงุฏู**: ginga_tek
- **ูุงู ฺฉุงุฑุจุฑ**: gingatek
- **ุฑูุฒ ุนุจูุฑ**: gingatek123
- **ุฑูุฒ ุนุจูุฑ root**: root123

## ฺฉุงุฑุจุฑ ูพุดโูุฑุถ ูุฏุฑ

ูพุณ ุงุฒ ุงููู ุฑุงูโุงูุฏุงุฒุ ฺฉ ฺฉุงุฑุจุฑ ูุฏุฑ ูพุดโูุฑุถ ุงุฌุงุฏ ูโุดูุฏ:

- **ูุงู ฺฉุงุฑุจุฑ**: admin
- **ุฑูุฒ ุนุจูุฑ**: admin123
- **ุงูู**: admin@gingatek.com
- **ููุด**: ADMIN

โ๏ธ **ููู**: ูพุณ ุงุฒ ุงููู ูุฑูุฏุ ุฑูุฒ ุนุจูุฑ ูพุดโูุฑุถ ุฑุง ุชุบุฑ ุฏูุฏ!

## ุฏุณุชูุฑุงุช ููุฏ

### ูุดุงูุฏู ูุงฺฏโูุง
```bash
# ุชูุงู ุณุฑูุณโูุง
sudo docker compose logs -f

# ุณุฑูุณ ุฎุงุต
sudo docker compose logs -f ginga-tek-api
sudo docker compose logs -f mysql
```

### ุชููู ุณุฑูุณโูุง
```bash
sudo docker compose down
```

### ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ุณุฑูุณโูุง
```bash
sudo docker compose restart
```

### ุฏุณุชุฑุณ ุจู ูพุงฺฏุงู ุฏุงุฏู MySQL
```bash
# ุงุชุตุงู ุจู ฺฉุงูุชูุฑ MySQL
sudo docker compose exec mysql mysql -u gingatek -p ginga_tek

# ุง ุจู ุนููุงู root
sudo docker compose exec mysql mysql -u root -p

# ุง ุงุฒ ฺฉุงูุชูุฑ API
sudo docker compose exec ginga-tek-api mysql -h mysql -u gingatek -p ginga_tek
```

### ุงุฌุฑุง ูุงฺฏุฑุดูโูุง ูพุงฺฏุงู ุฏุงุฏู
```bash
# ุฏุณุชุฑุณ ุจู ฺฉุงูุชูุฑ API
sudo docker compose exec ginga-tek-api bash

# ุงุฌุฑุง ูุงฺฏุฑุดูโูุง
alembic upgrade head
```

### ุงุฌุงุฏ ูุงฺฏุฑุดู ุฌุฏุฏ
```bash
# ุฏุณุชุฑุณ ุจู ฺฉุงูุชูุฑ API
sudo docker compose exec ginga-tek-api bash

# ุงุฌุงุฏ ูุงฺฏุฑุดู ุฌุฏุฏ
alembic revision --autogenerate -m "ุชูุถุญ ุชุบุฑุงุช"
```

## ูุชุบุฑูุง ูุญุท

ูุชุบุฑูุง ูุญุท ุฒุฑ ูพฺฉุฑุจูุฏ ุดุฏูโุงูุฏ:

| ูุชุบุฑ | ููุฏุงุฑ | ุชูุถุญ |
|-------|-------|-------|
| `DATABASE_URL` | `mysql://gingatek:gingatek123@mysql:3306/ginga_tek` | ุฑุดุชู ุงุชุตุงู ูพุงฺฏุงู ุฏุงุฏู |
| `SECRET_KEY` | `your-secret-key-change-this` | ฺฉูุฏ ุฑูุฒ JWT |
| `DEBUG` | `True` | ุญุงูุช ุฏุจุงฺฏ |
| `MYSQL_HOST` | `mysql` | ูุงู ูุงุณุช MySQL |
| `MYSQL_PORT` | `3306` | ูพูุฑุช MySQL |
| `MYSQL_USER` | `gingatek` | ูุงู ฺฉุงุฑุจุฑ MySQL |
| `MYSQL_PASSWORD` | `gingatek123` | ุฑูุฒ ุนุจูุฑ MySQL |
| `MYSQL_DATABASE` | `ginga_tek` | ูุงู ูพุงฺฏุงู ุฏุงุฏู MySQL |

## ูพฺฉุฑุจูุฏ ูพุงฺฏุงู ุฏุงุฏู

### ุชูุธูุงุช MySQL
- **ูุณุฎู**: MySQL 8.0
- **ูุฌููุนู ฺฉุงุฑุงฺฉุชุฑ**: utf8mb4
- **ฺฉููุดู**: utf8mb4_unicode_ci
- **ุงุญุฑุงุฒ ููุช**: mysql_native_password

### ุชูุธูุงุช Pool ุงุชุตุงู
- **ุงูุฏุงุฒู Pool**: ฑฐ
- **ุญุฏุงฺฉุซุฑ ุณุฑุฑุฒ**: ฒฐ
- **ุจุงุฒุงูุช Pool**: ณฐฐ ุซุงูู
- **ูพุดโูพูฺฏ Pool**: ูุนุงู

## ุนุจโุงุจ

### ุณุฑูุณ ุฑุงูโุงูุฏุงุฒ ููโุดูุฏ
ฑ. ุจุฑุฑุณ ฺฉูุฏ ฺฉู Docker ุฏุฑ ุญุงู ุงุฌุฑุง ุจุงุดุฏ
ฒ. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ูพูุฑุช ธฐฐฐ ุฏุฑ ุฏุณุชุฑุณ ุจุงุดุฏ
ณ. ูุงฺฏโูุง ุฑุง ูุดุงูุฏู ฺฉูุฏ: `sudo docker compose logs`

### ูุดฺฉูุงุช ุงุชุตุงู ูพุงฺฏุงู ุฏุงุฏู
ฑ. ููุชุธุฑ ุขูุงุฏู ุดุฏู MySQL ุจุงุดุฏ (ุงุณฺฉุฑูพุช ุฑุงูโุงูุฏุงุฒ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏูุฏ)
ฒ. ูุงฺฏโูุง MySQL ุฑุง ุจุฑุฑุณ ฺฉูุฏ: `sudo docker compose logs mysql`
ณ. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ูพุงฺฏุงู ุฏุงุฏู ูุฌูุฏ ุฏุงุฑุฏ: `sudo docker compose exec mysql mysql -u gingatek -p -e "SHOW DATABASES;"`

### API ูพุงุณุฎ ููโุฏูุฏ
ฑ. ูุงฺฏโูุง API ุฑุง ุจุฑุฑุณ ฺฉูุฏ: `sudo docker compose logs ginga-tek-api`
ฒ. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ฺฉุงูุชูุฑ API ุฏุฑ ุญุงู ุงุฌุฑุง ุจุงุดุฏ: `sudo docker compose ps`
ณ. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุงุณฺฉุฑูพุช ุงูุชุธุงุฑ ุจุง ููููุช ุชฺฉูู ุดุฏู ุจุงุดุฏ

### ุจุงุฒูุดุงู ฺฉุงูู
```bash
# ุชููู ู ุญุฐู ุชูุงู ฺฉุงูุชูุฑูุงุ ุดุจฺฉูโูุง ู ุญุฌูโูุง
sudo docker compose down -v

# ุญุฐู ุชูุงู ุชุตุงูุฑ
sudo docker compose down --rmi all

# ุดุฑูุน ูุฌุฏุฏ
./start-dev.sh
```

## ฺฏุฑุฏุด ฺฉุงุฑ ุชูุณุนู

ฑ. **ุฑุงูโุงูุฏุงุฒ ูุญุท**: `./start-dev.sh`
ฒ. **ุชุบุฑุงุช ฺฉุฏ** ุฏุฑ ูุงูโูุง ูุญู
ณ. **ุจุงุฒุณุงุฒ ฺฉุงูุชูุฑ API**: `sudo docker compose build ginga-tek-api`
ด. **ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ API**: `sudo docker compose restart ginga-tek-api`
ต. **ุชุณุช ุชุบุฑุงุช** ุฏุฑ http://localhost:8000/docs

## ููุงุญุธุงุช ุชููุฏ

ุจุฑุง ุงุณุชูุฑุงุฑ ุฏุฑ ูุญุท ุชููุฏ:

ฑ. ุชูุงู ุฑูุฒูุง ุนุจูุฑ ูพุดโูุฑุถ ุฑุง ุชุบุฑ ุฏูุฏ
ฒ. ุงุฒ SECRET_KEY ูู ุงุณุชูุงุฏู ฺฉูุฏ
ณ. DEBUG=False ุชูุธู ฺฉูุฏ
ด. ุชูุธูุงุช CORS ููุงุณุจ ุฑุง ูพฺฉุฑุจูุฏ ฺฉูุฏ
ต. ุงุฒ ูพุงฺฏุงู ุฏุงุฏู MySQL ุฎุงุฑุฌ ุงุณุชูุงุฏู ฺฉูุฏ
ถ. ูุงฺฏูฺฏ ููุงุณุจ ุฑุง ุชูุธู ฺฉูุฏ
ท. SSL/TLS ุฑุง ูพฺฉุฑุจูุฏ ฺฉูุฏ
ธ. ุงุฒ Docker secrets ุจุฑุง ุฏุงุฏูโูุง ุญุณุงุณ ุงุณุชูุงุฏู ฺฉูุฏ

## ุณุงุฎุชุงุฑ ูุงู

```
ginga_tek/
โโโ docker-compose.yml          # ูพฺฉุฑุจูุฏ ุณุฑูุณโูุง Docker
โโโ Dockerfile                  # ุชุนุฑู ฺฉุงูุชูุฑ API
โโโ start-dev.sh               # ุงุณฺฉุฑูพุช ุฑุงูโุงูุฏุงุฒ ุชูุณุนู
โโโ mysql-access.sh            # ุงุณฺฉุฑูพุช ุฏุณุชุฑุณ ุจู MySQL
โโโ scripts/
โ   โโโ init-mysql.sql         # ุฑุงูโุงูุฏุงุฒ MySQL
โ   โโโ wait-for-mysql.py      # ุจุฑุฑุณ ุขูุงุฏฺฏ MySQL
โโโ app/                       # ฺฉุฏ ุจุฑูุงูู
โโโ .dockerignore              # ุงุณุชุซูุงูุง ุณุงุฎุช Docker
```

## ุฏุณุชุฑุณ ุจู MySQL

ุจุฑุง ุฏุณุชุฑุณ ุขุณุงู ุจู ูพุงฺฏุงู ุฏุงุฏู MySQL:

```bash
# ุงุณุชูุงุฏู ุงุฒ ุงุณฺฉุฑูพุช ุฏุณุชุฑุณ
./mysql-access.sh

# ุง ุฏุณุชูุฑุงุช ูุณุชูู
sudo docker compose exec mysql mysql -u gingatek -p ginga_tek
sudo docker compose exec mysql mysql -u root -p
```

## ุชุณุช ุนููฺฉุฑุฏ

ุจุฑุง ุชุณุช ุนููฺฉุฑุฏ ุณุณุชู:

```bash
# ุชุณุช ุงุชุตุงู API
curl http://localhost:8000/

# ุชุณุช ูุณุชูุฏุงุช API
curl http://localhost:8000/docs

# ุชุณุช ุงุชุตุงู MySQL
sudo docker compose exec mysql mysql -u gingatek -pgingatek123 -e "SELECT 1;"
```

## ูฺฉุงุช ููู

- **ุงููุช**: ุชูุงู ุฑูุฒูุง ุนุจูุฑ ูพุดโูุฑุถ ุฑุง ุชุบุฑ ุฏูุฏ
- **ูพุดุชุจุงูโฺฏุฑ**: ุฏุงุฏูโูุง MySQL ุฏุฑ volume ุฐุฎุฑู ูโุดููุฏ
- **ุนููฺฉุฑุฏ**: ุจุฑุง ูุญุท ุชููุฏุ ุชูุธูุงุช pool ุฑุง ุจููู ฺฉูุฏ
- **ูุงูุชูุฑูฺฏ**: ูุงฺฏโูุง ุฑุง ุจู ุทูุฑ ููุธู ุจุฑุฑุณ ฺฉูุฏ

---

**๐ ูุญุท ุชูุณุนู Ginga Tek ุดูุง ุขูุงุฏู ุงุณุช!** 